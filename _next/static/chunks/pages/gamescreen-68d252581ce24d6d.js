(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[876],{2341:function(t,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gamescreen",function(){return i(1877)}])},1877:function(t,e,i){"use strict";i.r(e);var s=i(5893),n=i(7294),o=i(2237),r=i(1290);let a=()=>{let t=Number(window.innerWidth),e=Number(window.innerHeight),[i,a]=(0,n.useState)([]),[l,h]=(0,n.useState)([]),[u,c]=(0,n.useState)([]),d=(0,n.useCallback)(async()=>{let t=await r.x.rooms.control.$get(),e=await r.x.rooms.gunPosition.$get(),i=await r.x.check.$get();x(i,e),a(t),h(e),c(i)},[]),x=(t,e)=>{t.map(t=>{e.map(e=>{let i=Math.sqrt((t.pos.x-e[0])**2+(t.pos.y-e[1])**2);i<t.radius+20&&(r.x.check.$post({body:t.id}),console.log("フロントhit",t.id))})})};return(0,n.useEffect)(()=>{let t=setInterval(d,50);return()=>{clearInterval(t)}},[d,i]),(0,s.jsx)(o.Hf,{width:t,height:e,children:(0,s.jsxs)(o.mh,{children:[(0,s.jsx)(o.UL,{stroke:"black",strokeWidth:1,x:0,y:0,width:t,height:e}),i.map((t,e)=>(0,s.jsx)(o.Cd,{x:t.pos.x,y:t.pos.y,width:50,height:50,fill:"red"},e)),l.map((t,e)=>(0,s.jsx)(o.Cd,{radius:10,x:t[0],y:t[1],fill:"green"},e)),u.map((t,e)=>(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(o.Cd,{x:t.pos.x,y:t.pos.y,width:50,height:50,fill:"blue"},e),(0,s.jsx)(o.xv,{x:t.pos.x,y:t.pos.y,fontSize:15,fontFamily:"Arial",fill:"white",text:t.type.toString()})]},e))]})})};e.default=a}},function(t){t.O(0,[237,774,888,179],function(){return t(t.s=2341)}),_N_E=t.O()}]);