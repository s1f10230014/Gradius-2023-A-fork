(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[876],{2341:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gamescreen",function(){return i(1877)}])},1877:function(e,t,i){"use strict";i.r(t);var s=i(5893),n=i(24),r=i(7294),l=i(2237),o=i(5371),a=i(8239),h=i(1290);let u=()=>{let e=Number(window.innerWidth),t=Number(window.innerHeight),[i,u]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[x,w]=(0,r.useState)([]),f=(0,r.useCallback)(async()=>{let e=await h.x.rooms.control.$get(),t=await h.x.rooms.gunPosition.$get(),i=await h.x.check.$get();p(i,t),p(i,e),u(e),d(t),w(i)},[]),p=(e,t)=>{e.map(e=>{t.map(t=>{let i=Math.sqrt((e.pos.x-t[0])**2+(e.pos.y-t[1])**2);i<e.radius+20&&(h.x.check.$post({body:e.id}),console.log("フロントhit",e.id))})})};(0,r.useEffect)(()=>{let e=setInterval(f,50);return()=>{clearInterval(e)}},[f,i]);let[g]=(0,n.KO)(o.L);return g?(0,s.jsx)(l.Hf,{width:e,height:t,children:(0,s.jsxs)(l.mh,{children:[(0,s.jsx)(l.UL,{stroke:"black",strokeWidth:1,x:0,y:0,width:e,height:t}),i.map((e,t)=>(0,s.jsx)(l.Cd,{x:e[0],y:e[1],width:50,height:50,fill:"red"},t)),c.map((e,t)=>(0,s.jsx)(l.Cd,{radius:10,x:e[0],y:e[1],fill:"green"},t)),x.map((e,t)=>(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(l.Cd,{x:e.pos.x,y:e.pos.y,width:50,height:50,fill:"blue"},t),(0,s.jsx)(l.xv,{x:e.pos.x,y:e.pos.y,fontSize:15,fontFamily:"Arial",fill:"white",text:e.type.toString()})]},t))]})}):(0,s.jsx)(a.g,{visible:!0})};t.default=u}},function(e){e.O(0,[237,774,888,179],function(){return e(e.s=2341)}),_N_E=e.O()}]);